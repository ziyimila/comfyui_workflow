{"last_node_id":73,"last_link_id":104,"nodes":[{"id":7,"type":"MaskToSEGS","pos":[1510,300],"size":[315,154],"flags":{},"order":21,"mode":0,"inputs":[{"name":"mask","label":"遮罩","type":"MASK","link":6}],"outputs":[{"name":"SEGS","label":"Seg","type":"SEGS","shape":3,"links":[7],"slot_index":0}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"MaskToSEGS"},"widgets_values":[false,3,false,10,false]},{"id":8,"type":"MaskToImage","pos":[2230,120],"size":[210,26],"flags":{},"order":31,"mode":0,"inputs":[{"name":"mask","label":"遮罩","type":"MASK","link":24}],"outputs":[{"name":"IMAGE","label":"图像","type":"IMAGE","shape":3,"links":[9],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":22,"type":"MaskToSEGS","pos":[1510,700],"size":[315,154],"flags":{},"order":22,"mode":0,"inputs":[{"name":"mask","label":"遮罩","type":"MASK","link":28}],"outputs":[{"name":"SEGS","label":"Seg","type":"SEGS","shape":3,"links":[27],"slot_index":0}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"MaskToSEGS"},"widgets_values":[false,3,false,10,false]},{"id":5,"type":"SAMDetectorCombined","pos":[1870,120],"size":[315,218],"flags":{},"order":28,"mode":0,"inputs":[{"name":"sam_model","label":"SAM模型","type":"SAM_MODEL","link":4},{"name":"segs","label":"Seg","type":"SEGS","link":7},{"name":"image","label":"图像","type":"IMAGE","link":5}],"outputs":[{"name":"MASK","label":"遮罩","type":"MASK","shape":3,"links":[24,32],"slot_index":0}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"SAMDetectorCombined"},"widgets_values":["center-1",0,0.93,0,0.7,"False"]},{"id":21,"type":"SAMDetectorCombined","pos":[1910,680],"size":[315,218],"flags":{},"order":29,"mode":0,"inputs":[{"name":"sam_model","label":"SAM模型","type":"SAM_MODEL","link":25},{"name":"segs","label":"Seg","type":"SEGS","link":27},{"name":"image","label":"图像","type":"IMAGE","link":26}],"outputs":[{"name":"MASK","label":"遮罩","type":"MASK","shape":3,"links":[29,33],"slot_index":0}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"SAMDetectorCombined"},"widgets_values":["center-1",0,0.93,0,0.7,"False"]},{"id":23,"type":"MaskToImage","pos":[2290,620],"size":[210,26],"flags":{},"order":32,"mode":0,"inputs":[{"name":"mask","label":"遮罩","type":"MASK","link":29}],"outputs":[{"name":"IMAGE","label":"图像","type":"IMAGE","shape":3,"links":[30],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":24,"type":"PreviewImage","pos":[2290,710],"size":[210,250],"flags":{},"order":35,"mode":0,"inputs":[{"name":"images","label":"图像","type":"IMAGE","link":30}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":31,"type":"PreviewImage","pos":[600,470],"size":[210,250],"flags":{},"order":16,"mode":0,"inputs":[{"name":"images","label":"图像","type":"IMAGE","link":39}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":4,"type":"PreviewBridge","pos":[1070,150],"size":[320,338],"flags":{},"order":14,"mode":0,"inputs":[{"name":"images","label":"图像","type":"IMAGE","link":3}],"outputs":[{"name":"IMAGE","label":"图像","type":"IMAGE","shape":3,"links":[5],"slot_index":0},{"name":"MASK","label":"遮罩","type":"MASK","shape":3,"links":[6],"slot_index":1}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"PreviewBridge"},"widgets_values":["$4-1741616358.0549564",false,"never"]},{"id":20,"type":"PreviewBridge","pos":[1090,660],"size":[320,338],"flags":{},"order":15,"mode":0,"inputs":[{"name":"images","label":"图像","type":"IMAGE","link":31}],"outputs":[{"name":"IMAGE","label":"图像","type":"IMAGE","shape":3,"links":[26],"slot_index":0},{"name":"MASK","label":"遮罩","type":"MASK","shape":3,"links":[28],"slot_index":1}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"PreviewBridge"},"widgets_values":["$20-1741616359.0549564",false,"never"]},{"id":25,"type":"MaskComposite","pos":[2890,140],"size":[315,126],"flags":{},"order":33,"mode":0,"inputs":[{"name":"destination","label":"目标遮罩","type":"MASK","link":32},{"name":"source","label":"源遮罩","type":"MASK","link":33}],"outputs":[{"name":"MASK","label":"遮罩","type":"MASK","shape":3,"links":[34,36],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"MaskComposite"},"widgets_values":[0,0,"add"]},{"id":26,"type":"MaskToImage","pos":[2920,350],"size":[210,26],"flags":{},"order":36,"mode":0,"inputs":[{"name":"mask","label":"遮罩","type":"MASK","link":34}],"outputs":[{"name":"IMAGE","label":"图像","type":"IMAGE","shape":3,"links":[35],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":29,"type":"MaskToImage","pos":[3280,310],"size":[210,26],"flags":{},"order":39,"mode":0,"inputs":[{"name":"mask","label":"遮罩","type":"MASK","link":37}],"outputs":[{"name":"IMAGE","label":"图像","type":"IMAGE","shape":3,"links":[38],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":27,"type":"PreviewImage","pos":[2920,500],"size":[210,250],"flags":{},"order":38,"mode":0,"inputs":[{"name":"images","label":"图像","type":"IMAGE","link":35}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":30,"type":"PreviewImage","pos":[3290,510],"size":[210,250],"flags":{},"order":41,"mode":0,"inputs":[{"name":"images","label":"图像","type":"IMAGE","link":38}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":2,"type":"ImageScale","pos":[540,250],"size":[315,130],"flags":{},"order":12,"mode":0,"inputs":[{"name":"image","label":"图像","type":"IMAGE","link":1}],"outputs":[{"name":"IMAGE","label":"图像","type":"IMAGE","shape":3,"links":[3,31,39,57,59,64],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",512,768,"disabled"]},{"id":28,"type":"InvertMask","pos":[3270,150],"size":[210,26],"flags":{},"order":37,"mode":0,"inputs":[{"name":"mask","label":"遮罩","type":"MASK","link":36}],"outputs":[{"name":"MASK","label":"遮罩","type":"MASK","shape":3,"links":[37,66],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"InvertMask"},"widgets_values":[]},{"id":35,"type":"CLIPTextEncode","pos":[120,1700],"size":[400,200],"flags":{},"order":11,"mode":0,"inputs":[{"name":"clip","label":"CLIP","type":"CLIP","link":62}],"outputs":[{"name":"CONDITIONING","label":"条件","type":"CONDITIONING","shape":3,"links":[44]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"CLIPTextEncode"},"widgets_values":["lowres, error, cropped, worst quality, low quality, jpeg artifacts, out of frame, watermark, signature，blurry"],"color":"#322","bgcolor":"#533"},{"id":33,"type":"CheckpointLoaderSimple","pos":[120,1270],"size":[400,122],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","label":"模型","type":"MODEL","shape":3,"links":[40]},{"name":"CLIP","label":"CLIP","type":"CLIP","shape":3,"links":[41,61,62],"slot_index":1},{"name":"VAE","label":"VAE","type":"VAE","shape":3,"links":[42],"slot_index":2}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["SD15\\真人\\majicmix7.safetensors"]},{"id":53,"type":"SEGSPreview","pos":[1850,2130],"size":[320,314],"flags":{},"order":45,"mode":0,"inputs":[{"name":"segs","label":"Seg","type":"SEGS","link":78},{"name":"fallback_image_opt","label":"备用图像","type":"IMAGE","shape":7,"link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","shape":6,"links":null}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"SEGSPreview"},"widgets_values":[true,0.2]},{"id":50,"type":"ImpactSimpleDetectorSEGS","pos":[1450,2130],"size":[315,310],"flags":{},"order":43,"mode":0,"inputs":[{"name":"bbox_detector","label":"BBox检测","type":"BBOX_DETECTOR","link":75},{"name":"image","label":"图像","type":"IMAGE","link":76},{"name":"sam_model_opt","label":"SAM模型","type":"SAM_MODEL","shape":7,"link":77},{"name":"segm_detector_opt","label":"Segm检测","type":"SEGM_DETECTOR","shape":7,"link":null}],"outputs":[{"name":"SEGS","label":"Seg","type":"SEGS","shape":3,"links":[78,83],"slot_index":0}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"ImpactSimpleDetectorSEGS"},"widgets_values":[0.5,0,3,10,0.5,0,0,0.7,0]},{"id":57,"type":"ImpactSEGSConcat","pos":[1910,2490],"size":[140,70],"flags":{},"order":47,"mode":0,"inputs":[{"name":"segs1","label":"Seg1","type":"SEGS","link":83},{"name":"segs2","label":"Seg2","type":"SEGS","link":84},{"name":"segs3","type":"SEGS","link":null}],"outputs":[{"name":"SEGS","label":"Seg","type":"SEGS","shape":3,"links":[85],"slot_index":0}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"ImpactSEGSConcat"},"widgets_values":[]},{"id":54,"type":"ImpactSimpleDetectorSEGS","pos":[1450,2600],"size":[315,310],"flags":{},"order":44,"mode":0,"inputs":[{"name":"bbox_detector","label":"BBox检测","type":"BBOX_DETECTOR","link":79},{"name":"image","label":"图像","type":"IMAGE","link":80},{"name":"sam_model_opt","label":"SAM模型","type":"SAM_MODEL","shape":7,"link":81},{"name":"segm_detector_opt","label":"Segm检测","type":"SEGM_DETECTOR","shape":7,"link":null}],"outputs":[{"name":"SEGS","label":"Seg","type":"SEGS","shape":3,"links":[82,84],"slot_index":0}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"ImpactSimpleDetectorSEGS"},"widgets_values":[0.5,0,3,10,0.5,0,0,0.7,0]},{"id":56,"type":"SEGSPreview","pos":[1850,2600],"size":[320,314],"flags":{},"order":46,"mode":0,"inputs":[{"name":"segs","label":"Seg","type":"SEGS","link":82},{"name":"fallback_image_opt","label":"备用图像","type":"IMAGE","shape":7,"link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","shape":6,"links":null}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"SEGSPreview"},"widgets_values":[true,0.2]},{"id":63,"type":"PreviewImage","pos":[2810,2660],"size":[210,250],"flags":{},"order":51,"mode":0,"inputs":[{"name":"images","label":"图像","type":"IMAGE","link":91}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":61,"type":"SEGSPreview","pos":[2800,2130],"size":[320,314],"flags":{},"order":49,"mode":0,"inputs":[{"name":"segs","label":"Seg","type":"SEGS","link":88},{"name":"fallback_image_opt","label":"备用图像","type":"IMAGE","shape":7,"link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","shape":6,"links":[],"slot_index":0}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"SEGSPreview"},"widgets_values":[true,0.2]},{"id":62,"type":"SEGSPaste","pos":[2810,2480],"size":[315,122],"flags":{},"order":50,"mode":0,"inputs":[{"name":"image","label":"图像","type":"IMAGE","link":90},{"name":"segs","label":"Seg","type":"SEGS","link":89},{"name":"ref_image_opt","label":"参考图像","type":"IMAGE","shape":7,"link":null}],"outputs":[{"name":"IMAGE","label":"图像","type":"IMAGE","shape":3,"links":[91,95],"slot_index":0}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"SEGSPaste"},"widgets_values":[5,255]},{"id":32,"type":"ToBasicPipe","pos":[750,1400],"size":[241.79998779296875,106],"flags":{},"order":13,"mode":0,"inputs":[{"name":"model","label":"模型","type":"MODEL","link":40},{"name":"clip","label":"CLIP","type":"CLIP","link":41},{"name":"vae","label":"VAE","type":"VAE","link":42},{"name":"positive","label":"正面条件","type":"CONDITIONING","link":43},{"name":"negative","label":"负面条件","type":"CONDITIONING","link":44}],"outputs":[{"name":"basic_pipe","label":"基础节点束","type":"BASIC_PIPE","shape":3,"links":[45,87,96],"slot_index":0}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"ToBasicPipe"},"widgets_values":[]},{"id":70,"type":"FromBasicPipe","pos":[2940,1470],"size":[241.79998779296875,106],"flags":{},"order":27,"mode":0,"inputs":[{"name":"basic_pipe","label":"基础节点束","type":"BASIC_PIPE","link":97}],"outputs":[{"name":"model","label":"模型","type":"MODEL","shape":3,"links":[98],"slot_index":0},{"name":"clip","label":"CLIP","type":"CLIP","shape":3,"links":null},{"name":"vae","label":"VAE","type":"VAE","shape":3,"links":[99],"slot_index":2},{"name":"positive","label":"正面条件","type":"CONDITIONING","shape":3,"links":[100],"slot_index":3},{"name":"negative","label":"负面条件","type":"CONDITIONING","shape":3,"links":[101],"slot_index":4}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"FromBasicPipe"},"widgets_values":[]},{"id":69,"type":"Reroute","pos":[2790,1470],"size":[124,26],"flags":{},"order":20,"mode":0,"inputs":[{"name":"","type":"*","link":96}],"outputs":[{"name":"BASIC_PIPE","type":"BASIC_PIPE","links":[97],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":67,"type":"PreviewImage","pos":[3660,1190],"size":[210,250],"flags":{},"order":53,"mode":0,"inputs":[{"name":"images","label":"图像","type":"IMAGE","link":94}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":66,"type":"UpscaleModelLoader","pos":[2790,1200],"size":[390,82],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"UPSCALE_MODEL","label":"放大模型","type":"UPSCALE_MODEL","shape":3,"links":[93]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"UpscaleModelLoader"},"widgets_values":["RealESRGAN_x4plus.pth"]},{"id":73,"type":"PreviewImage","pos":[4790,1200],"size":[210,250],"flags":{},"order":55,"mode":0,"inputs":[{"name":"images","label":"图像","type":"IMAGE","link":104}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":65,"type":"UltimateSDUpscale","pos":[3280,1190],"size":[315,614],"flags":{},"order":52,"mode":0,"inputs":[{"name":"image","label":"图像","type":"IMAGE","link":95},{"name":"model","label":"模型","type":"MODEL","link":98},{"name":"positive","label":"正面条件","type":"CONDITIONING","link":100},{"name":"negative","label":"负面条件","type":"CONDITIONING","link":101},{"name":"vae","label":"VAE","type":"VAE","link":99},{"name":"upscale_model","label":"放大模型","type":"UPSCALE_MODEL","link":93,"slot_index":5}],"outputs":[{"name":"IMAGE","label":"图像","type":"IMAGE","shape":3,"links":[94,102],"slot_index":0}],"properties":{"cnr_id":"comfyui_ultimatesdupscale","ver":"ff3fdfeee03de46d4462211cffd165d27155e858","Node name for S&R":"UltimateSDUpscale"},"widgets_values":[2,312087431516175,"fixed",20,8,"euler","normal",0.2,"Chess",512,512,8,32,"None",1,32,8,16,true,false]},{"id":71,"type":"ReActorFaceSwap","pos":[4390,1210],"size":[315,358],"flags":{},"order":54,"mode":0,"inputs":[{"name":"input_image","label":"目标图像","type":"IMAGE","link":102},{"name":"source_image","label":"源图像","type":"IMAGE","shape":7,"link":103},{"name":"face_model","label":"面部模型","type":"FACE_MODEL","shape":7,"link":null},{"name":"face_boost","label":"面部增强","type":"FACE_BOOST","shape":7,"link":null}],"outputs":[{"name":"IMAGE","label":"图像","type":"IMAGE","shape":3,"links":[104],"slot_index":0},{"name":"FACE_MODEL","label":"面部模型","type":"FACE_MODEL","shape":3,"links":null}],"properties":{"cnr_id":"comfyui-reactor","ver":"d2318ad140582c6d0b68c51df342319b502006ed","Node name for S&R":"ReActorFaceSwap"},"widgets_values":[true,"inswapper_128.onnx","retinaface_resnet50","none",1,0.5,"no","no","0","0",1]},{"id":1,"type":"LoadImage","pos":[130,250],"size":[320,314],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","label":"图像","type":"IMAGE","shape":3,"links":[1],"slot_index":0},{"name":"MASK","label":"遮罩","type":"MASK","shape":3,"links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"LoadImage"},"widgets_values":["模特.jpg","image"]},{"id":45,"type":"SetLatentNoiseMask","pos":[1388,1816],"size":[210,46],"flags":{},"order":40,"mode":0,"inputs":[{"name":"samples","label":"Latent","type":"LATENT","link":63},{"name":"mask","label":"遮罩","type":"MASK","link":66}],"outputs":[{"name":"LATENT","label":"Latent","type":"LATENT","shape":3,"links":[67],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"SetLatentNoiseMask"},"widgets_values":[]},{"id":46,"type":"VAEEncode","pos":[1129,1819],"size":[210,46],"flags":{},"order":25,"mode":0,"inputs":[{"name":"pixels","label":"图像","type":"IMAGE","link":64},{"name":"vae","label":"VAE","type":"VAE","link":65}],"outputs":[{"name":"LATENT","label":"Latent","type":"LATENT","shape":3,"links":[63],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"VAEEncode"},"widgets_values":[]},{"id":36,"type":"FromBasicPipe","pos":[1126,1629],"size":[241.79998779296875,106],"flags":{},"order":19,"mode":0,"inputs":[{"name":"basic_pipe","label":"基础节点束","type":"BASIC_PIPE","link":45}],"outputs":[{"name":"model","label":"模型","type":"MODEL","shape":3,"links":[46],"slot_index":0},{"name":"clip","label":"CLIP","type":"CLIP","shape":3,"links":null,"slot_index":1},{"name":"vae","label":"VAE","type":"VAE","shape":3,"links":[65,69],"slot_index":2},{"name":"positive","label":"正面条件","type":"CONDITIONING","shape":3,"links":[73],"slot_index":3},{"name":"negative","label":"负面条件","type":"CONDITIONING","shape":3,"links":[49],"slot_index":4}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"FromBasicPipe"},"widgets_values":[]},{"id":39,"type":"ControlNetApply","pos":[1112,1468],"size":[317.4000244140625,98],"flags":{},"order":26,"mode":0,"inputs":[{"name":"conditioning","label":"条件","type":"CONDITIONING","link":73},{"name":"control_net","label":"ControlNet","type":"CONTROL_NET","link":50},{"name":"image","label":"图像","type":"IMAGE","link":58}],"outputs":[{"name":"CONDITIONING","label":"条件","type":"CONDITIONING","shape":3,"links":[74],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"ControlNetApply"},"widgets_values":[1]},{"id":43,"type":"Zoe_DepthAnythingPreprocessor","pos":[1091,1154],"size":[315,82],"flags":{},"order":17,"mode":0,"inputs":[{"name":"image","label":"图像","type":"IMAGE","link":57}],"outputs":[{"name":"IMAGE","label":"图像","type":"IMAGE","shape":3,"links":[58,70],"slot_index":0}],"properties":{"cnr_id":"comfyui_controlnet_aux","ver":"1e9eac6377c882da8bb360c7544607036904362c","Node name for S&R":"Zoe_DepthAnythingPreprocessor"},"widgets_values":["outdoor",512]},{"id":48,"type":"PreviewImage","pos":[2086,1503],"size":[210,250],"flags":{},"order":23,"mode":0,"inputs":[{"name":"images","label":"图像","type":"IMAGE","link":70}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":49,"type":"PreviewImage","pos":[2334,1503],"size":[210,250],"flags":{},"order":24,"mode":0,"inputs":[{"name":"images","label":"图像","type":"IMAGE","link":71}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":34,"type":"CLIPTextEncode","pos":[120,1440],"size":[400,200],"flags":{},"order":10,"mode":0,"inputs":[{"name":"clip","label":"CLIP","type":"CLIP","link":61}],"outputs":[{"name":"CONDITIONING","label":"条件","type":"CONDITIONING","shape":3,"links":[43]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"CLIPTextEncode"},"widgets_values":["A beautiful model, outdoor, street, exquisite face,clean street,nature lighting,8K"],"color":"#232","bgcolor":"#353"},{"id":72,"type":"LoadImage","pos":[4000,1210],"size":[320,314],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","label":"图像","type":"IMAGE","shape":3,"links":[103]},{"name":"MASK","label":"遮罩","type":"MASK","shape":3,"links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"LoadImage"},"widgets_values":["刘丽英.jpg","image"]},{"id":9,"type":"PreviewBridge","pos":[2220,220],"size":[320,338],"flags":{},"order":34,"mode":0,"inputs":[{"name":"images","label":"图像","type":"IMAGE","link":9}],"outputs":[{"name":"IMAGE","label":"图像","type":"IMAGE","shape":3,"links":null},{"name":"MASK","label":"遮罩","type":"MASK","shape":3,"links":null}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"PreviewBridge"},"widgets_values":["$9-0",false,"never"]},{"id":44,"type":"DWPreprocessor","pos":[1515,1140],"size":[315,222],"flags":{},"order":18,"mode":0,"inputs":[{"name":"image","label":"图像","type":"IMAGE","link":59}],"outputs":[{"name":"IMAGE","label":"图像","type":"IMAGE","shape":3,"links":[60,71],"slot_index":0},{"name":"POSE_KEYPOINT","label":"姿态关键点","type":"POSE_KEYPOINT","shape":3,"links":null}],"properties":{"cnr_id":"comfyui_controlnet_aux","ver":"1e9eac6377c882da8bb360c7544607036904362c","Node name for S&R":"DWPreprocessor"},"widgets_values":["enable","enable","enable",512,"yolo_nas_m_fp16.onnx","dw-ll_ucoco_384.onnx","disable"]},{"id":6,"type":"SAMLoader","pos":[1500,120],"size":[315,82],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"name":"SAM_MODEL","label":"SAM模型","type":"SAM_MODEL","shape":3,"links":[4,25],"slot_index":0}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"SAMLoader"},"widgets_values":["sam_vit_l_0b3195.pth","Prefer GPU"]},{"id":40,"type":"ControlNetLoader","pos":[1085,1287],"size":[334.3368835449219,82],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[{"name":"CONTROL_NET","label":"ControlNet","type":"CONTROL_NET","shape":3,"links":[50]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"ControlNetLoader"},"widgets_values":["base\\control_v11f1p_sd15_depth_fp16.safetensors"]},{"id":42,"type":"ControlNetLoader","pos":[1951,1128],"size":[491.036865234375,82],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[{"name":"CONTROL_NET","label":"ControlNet","type":"CONTROL_NET","shape":3,"links":[53]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"ControlNetLoader"},"widgets_values":["base\\control_v11p_sd15_openpose_fp16.safetensors"]},{"id":41,"type":"ControlNetApply","pos":[2123,1258],"size":[317.4000244140625,98],"flags":{},"order":30,"mode":0,"inputs":[{"name":"conditioning","label":"条件","type":"CONDITIONING","link":74},{"name":"control_net","label":"ControlNet","type":"CONTROL_NET","link":53},{"name":"image","label":"图像","type":"IMAGE","link":60}],"outputs":[{"name":"CONDITIONING","label":"条件","type":"CONDITIONING","shape":3,"links":[56],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"ControlNetApply"},"widgets_values":[1]},{"id":51,"type":"UltralyticsDetectorProvider","pos":[1080,2130],"size":[315,78],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[{"name":"BBOX_DETECTOR","label":"BBox检测","type":"BBOX_DETECTOR","shape":3,"links":[75]},{"name":"SEGM_DETECTOR","label":"SEGM检测","type":"SEGM_DETECTOR","shape":3,"links":null}],"properties":{"cnr_id":"comfyui-impact-subpack","ver":"74db20c95eca152a6d686c914edc0ef4e4762cb8","Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["bbox/face_yolov8m.pt"]},{"id":52,"type":"SAMLoader","pos":[1090,2260],"size":[315,82],"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[{"name":"SAM_MODEL","label":"SAM模型","type":"SAM_MODEL","shape":3,"links":[77,81]}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"SAMLoader"},"widgets_values":["sam_vit_h_4b8939.pth","Prefer GPU"]},{"id":55,"type":"UltralyticsDetectorProvider","pos":[1080,2600],"size":[315,78],"flags":{},"order":9,"mode":0,"inputs":[],"outputs":[{"name":"BBOX_DETECTOR","label":"BBox检测","type":"BBOX_DETECTOR","shape":3,"links":[79]},{"name":"SEGM_DETECTOR","label":"SEGM检测","type":"SEGM_DETECTOR","shape":3,"links":null}],"properties":{"cnr_id":"comfyui-impact-subpack","ver":"74db20c95eca152a6d686c914edc0ef4e4762cb8","Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["bbox/hand_yolov8s.pt"]},{"id":38,"type":"KSampler (Efficient)","pos":[1679,1400],"size":[330,586],"flags":{},"order":42,"mode":0,"inputs":[{"name":"model","label":"模型","type":"MODEL","link":46},{"name":"positive","label":"正面条件","type":"CONDITIONING","link":56},{"name":"negative","label":"负面条件","type":"CONDITIONING","link":49},{"name":"latent_image","label":"Latent","type":"LATENT","link":67},{"name":"optional_vae","label":"VAE(可选)","type":"VAE","shape":7,"link":69},{"name":"script","label":"脚本","type":"SCRIPT","shape":7,"link":null}],"outputs":[{"name":"MODEL","label":"模型","type":"MODEL","shape":3,"links":null},{"name":"CONDITIONING+","label":"正面条件","type":"CONDITIONING","shape":3,"links":null},{"name":"CONDITIONING-","label":"负面条件","type":"CONDITIONING","shape":3,"links":null},{"name":"LATENT","label":"Latent","type":"LATENT","shape":3,"links":null},{"name":"VAE","label":"VAE","type":"VAE","shape":3,"links":null},{"name":"IMAGE","label":"图像","type":"IMAGE","shape":3,"links":[76,80,86,90],"slot_index":5}],"properties":{"cnr_id":"efficiency-nodes-comfyui","ver":"3ead4afd120833f3bffdefeca0d6545df8051798","Node name for S&R":"KSampler (Efficient)"},"widgets_values":[-1,null,25,7,"dpmpp_2m_sde_gpu","karras",0.7000000000000001,"auto","true"],"color":"#2a363b","bgcolor":"#3f5159","shape":1},{"id":60,"type":"SEGSDetailer","pos":[2280,2130],"size":[430.8000183105469,522],"flags":{},"order":48,"mode":0,"inputs":[{"name":"image","label":"图像","type":"IMAGE","link":86},{"name":"segs","label":"Seg","type":"SEGS","link":85},{"name":"basic_pipe","label":"基础节点束","type":"BASIC_PIPE","link":87},{"name":"refiner_basic_pipe_opt","type":"BASIC_PIPE","shape":7,"link":null},{"name":"scheduler_func_opt","type":"SCHEDULER_FUNC","shape":7,"link":null}],"outputs":[{"name":"segs","label":"Seg","type":"SEGS","shape":3,"links":[88,89],"slot_index":0},{"name":"cnet_images","label":"ControlNet图像","type":"IMAGE","shape":6,"links":null}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"SEGSDetailer"},"widgets_values":[256,true,768,1011911560584483,"randomize",20,8,"euler","normal",0.5,true,true,0.2,1,1,false,20]}],"links":[[1,1,0,2,0,"IMAGE"],[3,2,0,4,0,"IMAGE"],[4,6,0,5,0,"SAM_MODEL"],[5,4,0,5,2,"IMAGE"],[6,4,1,7,0,"MASK"],[7,7,0,5,1,"SEGS"],[9,8,0,9,0,"IMAGE"],[24,5,0,8,0,"MASK"],[25,6,0,21,0,"SAM_MODEL"],[26,20,0,21,2,"IMAGE"],[27,22,0,21,1,"SEGS"],[28,20,1,22,0,"MASK"],[29,21,0,23,0,"MASK"],[30,23,0,24,0,"IMAGE"],[31,2,0,20,0,"IMAGE"],[32,5,0,25,0,"MASK"],[33,21,0,25,1,"MASK"],[34,25,0,26,0,"MASK"],[35,26,0,27,0,"IMAGE"],[36,25,0,28,0,"MASK"],[37,28,0,29,0,"MASK"],[38,29,0,30,0,"IMAGE"],[39,2,0,31,0,"IMAGE"],[40,33,0,32,0,"MODEL"],[41,33,1,32,1,"CLIP"],[42,33,2,32,2,"VAE"],[43,34,0,32,3,"CONDITIONING"],[44,35,0,32,4,"CONDITIONING"],[45,32,0,36,0,"BASIC_PIPE"],[46,36,0,38,0,"MODEL"],[49,36,4,38,2,"CONDITIONING"],[50,40,0,39,1,"CONTROL_NET"],[53,42,0,41,1,"CONTROL_NET"],[56,41,0,38,1,"CONDITIONING"],[57,2,0,43,0,"IMAGE"],[58,43,0,39,2,"IMAGE"],[59,2,0,44,0,"IMAGE"],[60,44,0,41,2,"IMAGE"],[61,33,1,34,0,"CLIP"],[62,33,1,35,0,"CLIP"],[63,46,0,45,0,"LATENT"],[64,2,0,46,0,"IMAGE"],[65,36,2,46,1,"VAE"],[66,28,0,45,1,"MASK"],[67,45,0,38,3,"LATENT"],[69,36,2,38,4,"VAE"],[70,43,0,48,0,"IMAGE"],[71,44,0,49,0,"IMAGE"],[73,36,3,39,0,"CONDITIONING"],[74,39,0,41,0,"CONDITIONING"],[75,51,0,50,0,"BBOX_DETECTOR"],[76,38,5,50,1,"IMAGE"],[77,52,0,50,2,"SAM_MODEL"],[78,50,0,53,0,"SEGS"],[79,55,0,54,0,"BBOX_DETECTOR"],[80,38,5,54,1,"IMAGE"],[81,52,0,54,2,"SAM_MODEL"],[82,54,0,56,0,"SEGS"],[83,50,0,57,0,"SEGS"],[84,54,0,57,1,"SEGS"],[85,57,0,60,1,"SEGS"],[86,38,5,60,0,"IMAGE"],[87,32,0,60,2,"BASIC_PIPE"],[88,60,0,61,0,"SEGS"],[89,60,0,62,1,"SEGS"],[90,38,5,62,0,"IMAGE"],[91,62,0,63,0,"IMAGE"],[93,66,0,65,5,"UPSCALE_MODEL"],[94,65,0,67,0,"IMAGE"],[95,62,0,65,0,"IMAGE"],[96,32,0,69,0,"*"],[97,69,0,70,0,"BASIC_PIPE"],[98,70,0,65,1,"MODEL"],[99,70,2,65,4,"VAE"],[100,70,3,65,2,"CONDITIONING"],[101,70,4,65,3,"CONDITIONING"],[102,65,0,71,0,"IMAGE"],[103,72,0,71,1,"IMAGE"],[104,71,0,73,0,"IMAGE"]],"groups":[{"id":1,"title":"SD高清放大","bounding":[2730,1080,1190,760],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"手脸修复","bounding":[1050,2030,2100,900],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"到基础束","bounding":[90,1160,926,763],"color":"#3f789e","font_size":24,"flags":{}},{"id":4,"title":"画裤子遮罩","bounding":[1050,570,1510,460],"color":"#3f789e","font_size":24,"flags":{}},{"id":5,"title":"加载图片","bounding":[100,110,790,670],"color":"#3f789e","font_size":24,"flags":{}},{"id":6,"title":"画上衣遮罩","bounding":[1050,10,1510,540],"color":"#3f789e","font_size":24,"flags":{}},{"id":7,"title":"遮罩相加反转","bounding":[2880,10,660,790],"color":"#3f789e","font_size":24,"flags":{}},{"id":8,"title":"第一次采样","bounding":[1050,1070,1523,918],"color":"#3f789e","font_size":24,"flags":{}},{"id":9,"title":"ReActor换脸","bounding":[3970,1080,1060,521],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":1.3945265302198457,"offset":[-4464.757983657434,-1048.9152511866819]},"workspace_info":{"id":"94d2388e-3863-44bf-be2c-f39acd9c1cb3","saveLock":false,"cloudID":null,"coverMediaPath":null},"VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true},"version":0.4}