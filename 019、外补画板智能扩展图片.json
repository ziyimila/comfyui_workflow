{"last_node_id":16,"last_link_id":27,"nodes":[{"id":4,"type":"VAEEncode","pos":[1037,379],"size":[210,46],"flags":{},"order":9,"mode":0,"inputs":[{"name":"pixels","label":"图像","type":"IMAGE","link":2},{"name":"vae","label":"VAE","type":"VAE","link":16}],"outputs":[{"name":"LATENT","label":"Latent","type":"LATENT","shape":3,"links":[3],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"VAEEncode"},"widgets_values":[]},{"id":7,"type":"Control Net Stacker","pos":[1280,30],"size":[315,146],"flags":{},"order":6,"mode":0,"inputs":[{"name":"control_net","label":"ControlNet","type":"CONTROL_NET","link":7},{"name":"image","label":"图像","type":"IMAGE","link":8},{"name":"cnet_stack","label":"ControlNet堆","type":"CONTROL_NET_STACK","shape":7,"link":null}],"outputs":[{"name":"CNET_STACK","label":"ControlNet堆","type":"CONTROL_NET_STACK","shape":3,"links":[6]}],"properties":{"cnr_id":"efficiency-nodes-comfyui","ver":"3ead4afd120833f3bffdefeca0d6545df8051798","Node name for S&R":"Control Net Stacker"},"widgets_values":[1,0,1],"color":"#223322","bgcolor":"#335533","shape":1},{"id":11,"type":"KSampler (Efficient)","pos":[2650,110],"size":[330,586],"flags":{},"order":13,"mode":0,"inputs":[{"name":"model","label":"模型","type":"MODEL","link":17},{"name":"positive","label":"正面条件","type":"CONDITIONING","link":18},{"name":"negative","label":"负面条件","type":"CONDITIONING","link":19},{"name":"latent_image","label":"Latent","type":"LATENT","link":21},{"name":"optional_vae","label":"VAE(可选)","type":"VAE","shape":7,"link":26},{"name":"script","label":"脚本","type":"SCRIPT","shape":7,"link":null}],"outputs":[{"name":"MODEL","label":"模型","type":"MODEL","shape":3,"links":null},{"name":"CONDITIONING+","label":"正面条件","type":"CONDITIONING","shape":3,"links":null},{"name":"CONDITIONING-","label":"负面条件","type":"CONDITIONING","shape":3,"links":null},{"name":"LATENT","label":"Latent","type":"LATENT","shape":3,"links":null},{"name":"VAE","label":"VAE","type":"VAE","shape":3,"links":null},{"name":"IMAGE","label":"图像","type":"IMAGE","shape":3,"links":[],"slot_index":5}],"properties":{"cnr_id":"efficiency-nodes-comfyui","ver":"3ead4afd120833f3bffdefeca0d6545df8051798","Node name for S&R":"KSampler (Efficient)"},"widgets_values":[0,null,20,7,"dpmpp_3m_sde_gpu","karras",1,"auto","true"],"color":"#222233","bgcolor":"#333355","shape":1},{"id":1,"type":"ImagePadForOutpaint","pos":[587,282],"size":[315,174],"flags":{},"order":3,"mode":0,"inputs":[{"name":"image","label":"图像","type":"IMAGE","link":1}],"outputs":[{"name":"IMAGE","label":"图像","type":"IMAGE","shape":3,"links":[2,9],"slot_index":0},{"name":"MASK","label":"遮罩","type":"MASK","shape":3,"links":[4,10,22,24],"slot_index":1}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"ImagePadForOutpaint"},"widgets_values":[256,0,256,0,40]},{"id":14,"type":"MaskToImage","pos":[973.8069458007812,553.2425537109375],"size":[210,26],"flags":{},"order":5,"mode":0,"inputs":[{"name":"mask","label":"遮罩","type":"MASK","link":24}],"outputs":[{"name":"IMAGE","label":"图像","type":"IMAGE","shape":3,"links":[25],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"MaskToImage"},"widgets_values":[]},{"id":15,"type":"PreviewImage","pos":[970,640],"size":[210,250],"flags":{},"order":7,"mode":0,"inputs":[{"name":"images","label":"图像","type":"IMAGE","link":25}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":9,"type":"InpaintPreprocessor","pos":[795,78],"size":[315,78],"flags":{},"order":4,"mode":0,"inputs":[{"name":"image","label":"图像","type":"IMAGE","link":9},{"name":"mask","label":"遮罩","type":"MASK","link":10}],"outputs":[{"name":"IMAGE","label":"图像","type":"IMAGE","shape":3,"links":[8],"slot_index":0}],"properties":{"cnr_id":"comfyui_controlnet_aux","ver":"1e9eac6377c882da8bb360c7544607036904362c","Node name for S&R":"InpaintPreprocessor"},"widgets_values":[false]},{"id":12,"type":"SetLatentNoiseMask","pos":[2456,-68],"size":[210,46],"flags":{},"order":12,"mode":0,"inputs":[{"name":"samples","label":"Latent","type":"LATENT","link":20},{"name":"mask","label":"遮罩","type":"MASK","link":22}],"outputs":[{"name":"LATENT","label":"Latent","type":"LATENT","shape":3,"links":[21],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"SetLatentNoiseMask"},"widgets_values":[]},{"id":8,"type":"ControlNetLoader","pos":[735,-51],"size":[468.6437072753906,82],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"CONTROL_NET","label":"ControlNet","type":"CONTROL_NET","shape":3,"links":[7]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"ControlNetLoader"},"widgets_values":["base\\control_v11p_sd15_inpaint_fp16.safetensors"]},{"id":16,"type":"String","pos":[1273,416],"size":[319.26715087890625,139.8238525390625],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"STRING","label":"字符串","type":"STRING","links":[27]}],"properties":{"ver":"bdddb08ca82d90d75d97b1d437a652e0284a32ac","Node name for S&R":"String"},"widgets_values":["Forest"]},{"id":5,"type":"Efficient Loader","pos":[1620,110],"size":[500,688],"flags":{},"order":8,"mode":0,"inputs":[{"name":"lora_stack","label":"LoRA堆","type":"LORA_STACK","shape":7,"link":null},{"name":"cnet_stack","label":"ControlNet堆","type":"CONTROL_NET_STACK","shape":7,"link":6},{"name":"positive","label":"正面条件","type":"STRING","widget":{"name":"positive"},"link":27}],"outputs":[{"name":"MODEL","label":"模型","type":"MODEL","shape":3,"links":[11],"slot_index":0},{"name":"CONDITIONING+","label":"正面条件","type":"CONDITIONING","shape":3,"links":[12],"slot_index":1},{"name":"CONDITIONING-","label":"负面条件","type":"CONDITIONING","shape":3,"links":[13],"slot_index":2},{"name":"LATENT","label":"Latent","type":"LATENT","shape":3,"links":null},{"name":"VAE","label":"VAE","type":"VAE","shape":3,"links":[14,16],"slot_index":4},{"name":"CLIP","label":"CLIP","type":"CLIP","shape":3,"links":null},{"name":"DEPENDENCIES","label":"依赖","type":"DEPENDENCIES","shape":3,"links":null}],"properties":{"cnr_id":"efficiency-nodes-comfyui","ver":"3ead4afd120833f3bffdefeca0d6545df8051798","Node name for S&R":"Efficient Loader"},"widgets_values":["SD15\\动漫\\revAnimated_v2Rebirth.safetensors","vae-ft-mse-840000-ema-pruned.safetensors",-1,"None",0.8,1,"CLIP_POSITIVE","lowres, error, cropped, worst quality, low quality, jpeg artifacts, out of frame, watermark, signature，blurry","none","comfy",1024,512,1],"color":"#2a363b","bgcolor":"#3f5159","shape":1},{"id":3,"type":"SetLatentNoiseMask","pos":[1150,180],"size":[210,46],"flags":{},"order":10,"mode":0,"inputs":[{"name":"samples","label":"Latent","type":"LATENT","link":3},{"name":"mask","label":"遮罩","type":"MASK","link":4}],"outputs":[{"name":"LATENT","label":"Latent","type":"LATENT","shape":3,"links":[15],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"SetLatentNoiseMask"},"widgets_values":[]},{"id":2,"type":"LoadImage","pos":[220,280],"size":[320,314],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","label":"图像","type":"IMAGE","shape":3,"links":[1],"slot_index":0},{"name":"MASK","label":"遮罩","type":"MASK","shape":3,"links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"LoadImage"},"widgets_values":["秀智.jpg","image"]},{"id":10,"type":"KSampler (Efficient)","pos":[2190,120],"size":[330,586],"flags":{},"order":11,"mode":0,"inputs":[{"name":"model","label":"模型","type":"MODEL","link":11},{"name":"positive","label":"正面条件","type":"CONDITIONING","link":12},{"name":"negative","label":"负面条件","type":"CONDITIONING","link":13},{"name":"latent_image","label":"Latent","type":"LATENT","link":15},{"name":"optional_vae","label":"VAE(可选)","type":"VAE","shape":7,"link":14},{"name":"script","label":"脚本","type":"SCRIPT","shape":7,"link":null}],"outputs":[{"name":"MODEL","label":"模型","type":"MODEL","shape":3,"links":[17],"slot_index":0},{"name":"CONDITIONING+","label":"正面条件","type":"CONDITIONING","shape":3,"links":[18],"slot_index":1},{"name":"CONDITIONING-","label":"负面条件","type":"CONDITIONING","shape":3,"links":[19],"slot_index":2},{"name":"LATENT","label":"Latent","type":"LATENT","shape":3,"links":[20],"slot_index":3},{"name":"VAE","label":"VAE","type":"VAE","shape":3,"links":[26],"slot_index":4},{"name":"IMAGE","label":"图像","type":"IMAGE","shape":3,"links":null,"slot_index":5}],"properties":{"cnr_id":"efficiency-nodes-comfyui","ver":"3ead4afd120833f3bffdefeca0d6545df8051798","Node name for S&R":"KSampler (Efficient)"},"widgets_values":[0,null,20,7,"dpmpp_3m_sde_gpu","karras",1,"auto","true"],"color":"#222233","bgcolor":"#333355","shape":1}],"links":[[1,2,0,1,0,"IMAGE"],[2,1,0,4,0,"IMAGE"],[3,4,0,3,0,"LATENT"],[4,1,1,3,1,"MASK"],[6,7,0,5,1,"CONTROL_NET_STACK"],[7,8,0,7,0,"CONTROL_NET"],[8,9,0,7,1,"IMAGE"],[9,1,0,9,0,"IMAGE"],[10,1,1,9,1,"MASK"],[11,5,0,10,0,"MODEL"],[12,5,1,10,1,"CONDITIONING"],[13,5,2,10,2,"CONDITIONING"],[14,5,4,10,4,"VAE"],[15,3,0,10,3,"LATENT"],[16,5,4,4,1,"VAE"],[17,10,0,11,0,"MODEL"],[18,10,1,11,1,"CONDITIONING"],[19,10,2,11,2,"CONDITIONING"],[20,10,3,12,0,"LATENT"],[21,12,0,11,3,"LATENT"],[22,1,1,12,1,"MASK"],[24,1,1,14,0,"MASK"],[25,14,0,15,0,"IMAGE"],[26,10,4,11,4,"VAE"],[27,16,0,5,2,"STRING"]],"groups":[],"config":{},"extra":{"ds":{"scale":1.2398406080225808,"offset":[-2105.487188260611,12.37767657620192]},"workspace_info":{"id":"fa9c64ab-f402-43b0-b489-b46e12a5afda","saveLock":false,"cloudID":null,"coverMediaPath":null},"VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true},"version":0.4}